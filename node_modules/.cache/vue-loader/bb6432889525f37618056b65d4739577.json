{"remainingRequest":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Projects/lifesparkv1/src/components/GoalCycle/GoalCheckList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kevin/Projects/lifesparkv1/src/components/GoalCycle/GoalCheckList.vue","mtime":1611284436948},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAndnVlLWNvb2tpZXMnCmltcG9ydCBWdWUgZnJvbSAndnVlJwoKVnVlLnVzZShWdWVDb29raWVzKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHb2FsQ2hlY2tMaXN0JywKZGF0YSgpeyAKICByZXR1cm4geyAKICAgICBzdGVwTGlzdDpbXSwgCiAgICAgZ29hbFJlZjpudWxsLAogICAgIGdvYWxMaXN0OltdLAogICAgIGdvYWxJZDonJywKICAgICB1cGRhdGVTdGF0dXM6JycsCiAgICAgcG9pbnRzOm51bGwsCiAgICAgbm90ZTonJywKICB9Cn0sCiBhc3luYyBjcmVhdGVkICgpIHsKICAgICB2YXIgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7CiAgICAgdmFyIHllYXI9IGRhdGVOb3cuZ2V0RnVsbFllYXIoKTsKICAgICBjb25zb2xlLmxvZyhkYXRlTm93LmdldFRpbWUoKSk7CgogICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzJykKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgIHZhciBpOwoKICAgICAgICAgICAgIC8vR2V0IERhdGUgYW5kIEZ1bGwgWWVhciAKICAgICAgICAgICAgIHZhciBkYXRlTm93ID0gbmV3IERhdGUoKQogICAgICAgICAgICAgdmFyIHllYXI9IGRhdGVOb3cuZ2V0RnVsbFllYXIoKQoKICAgICAgICAgICAgIC8vR2V0IEdvYWxzIGZyb20gdGhlIEN1cnJlbnQgWWVhciAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICBmb3IoaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgaWYoZGF0YVtpXS55ZWFyPT09eWVhcikKICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb2FsTGlzdC5wdXNoKGRhdGFbaV0pCiAgICAgICAgICAgICB9ICAgICAgIAogICAgICAgICAgICAgCiAgICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSkKICAgIAp9LAogbWV0aG9kczp7CiAgIC8vVGhpcyBGdW5jdGlvbiBBc3luY3JvbnNvdXNseSBsb2FkcyB0aGUgZ29hbAogICBhc3luYyBsb2FkR29hbCgpeyAgICAKICAgICAgICAgICAgdmFyIGk7CiAgICAgICAgICAgICAKICAgICAgICAgICAgZm9yKGk9MDtpPHRoaXMuZ29hbExpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgIC8vRmluZCBHb2FsIHNlbGVjdCBJRCAKICAgICAgICAgICAgICAgICAgaWYodGhpcy5nb2FsTGlzdFtpXS50aXRsZT09PXRoaXMuZ29hbFJlZikKICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb2FsSWQ9dGhpcy5nb2FsTGlzdFtpXS5faWQKICAgICAgICAgICAgICAgICAgICAgaT10aGlzLmdvYWxMaXN0Lmxlbmd0aCsxCiAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgLy9Mb2FkIHRoZSBzdGVwcyByZWxhdGVkIHRvIHRoZSBnb2FsIGFuZCByZWZmZXJlbmNlcyBnb2FsSUQKICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzL3N0ZXBzJykKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgZm9yKGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgIGlmKGRhdGFbaV0uZ29hbElEPT09dGhpcy5nb2FsSWQpewogICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXBMaXN0LnB1c2goZGF0YVtpXSkKICAgICAgICAgICAgICAgICAgICAgaT1kYXRhLmxlbmd0aCsxCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0gICAgICAgCiAgICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSkKICAgIH0sIAogICAgICAgLy9VcGRhdGVzIGlmIEdvYWwgaXMgQ2hlY2tlZCAKICAgICAgIHVwZGF0ZSgpeyAgICAKICAgICAgICAgICAgIHZhciBpOwoKICAgICAgICAgICAgIHZhciBkYXRlTm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgIC8vc3RhcnQgb2YgbG9vcAogICAgICAgICAgICAgZm9yKGk9MDtpPHRoaXMuc3RlcExpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgIC8vVXBkYXRlIFN0ZXBzIGlmIHRoZWlyIGNoZWNrZWQgb2ZmIG9yIE5vdAogICAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzL3N0ZXBzL3VwZGF0ZScsIHsKICAgICAgICAgICAgICAgICAgICAgICBpZDp0aGlzLnN0ZXBMaXN0W2ldLl9pZCwKICAgICAgICAgICAgICAgICAgICAgICBjaGVjazp0aGlzLnN0ZXBMaXN0W2ldLmNoZWNrICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCByZXNwb25zZSApewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJHb2FsIFN1Y2Nlc3NmdWxseSBVcGRhdGVkICIpOwogICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgICAgICAgICAgICAvL0lmIENoZWNrIGFkZCA1IHBvaW50cwogICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RlcExpc3RbaV0uY2hlY2s9PT10cnVlKXsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkNVBvaW50cygpOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb2ludHMoKTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0vL2VuZCBvZiBmb3IgbG9vcAoKCiAgICAgICAgICAgIC8vQWRkIEEgbm90ZSB0byB0aGUgTm90ZXMgRGF0YWJhc2UKICAgICAgICAgICAgIGlmKHRoaXMubm90ZS5sZW5ndGg+MCl7CiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzL25vdGVzJywgewogICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDp0aGlzLmdvYWxJZCwKICAgICAgICAgICAgICAgICAgICAgICBub3RlOnRoaXMubm90ZSwKICAgICAgICAgICAgICAgICAgICAgICBkYXRlOmRhdGVOb3cKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiggcmVzcG9uc2UgKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTm90ZSBTdWNjZXNzZnVsbHkgVXBkYXRlZCAiKTsKICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICAgICAgICAgICAKCiAgICAgICAgICAgICB9ICAgICAgICAgICAgCgogICAgICAgICAgICAvL1VwZGF0ZSBTdGF0dXMgaXMgVXBsb2FkZWQgYWZ0ZXIgZXhlY3V0aW9uLgogICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cz0iVXBkYXRlIGRvbmUiOwogICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwoKICAgIH0sLy9lbmQgb2YgdXBkYXRlKCkgZnVuY3Rpb24KCiAgICAvL0Z1bmN0aW9uIEFkZHMgNSBwb2ludHMgaWYgR29hbHMgaXMgY2hlY2tlZAogICAgYWRkNVBvaW50cygpewogICAgICAgICAgdmFyIHBvaW50PSA1OwogICAgICAgICAKICAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9wb2ludHMvNScsIHsKICAgICAgICAgICAgICAvL0ZpeGVkIE9iamVjdCBJRAogICAgICAgICAgICAgICAvL0NoYW5nZSBpZiBuZXcgT2JqZWN0IGlzIGNyZWF0ZWQKICAgICAgICAgICAgICBvYmplY3RJZDoiNWZmYmE4NjMyY2E3NmY3M2U0YmQzNzUwIiwKICAgICAgICAgICAgICBwb2ludHM6cG9pbnQKICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCByZXNwb25zZSApewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwb2ludCBhZGRlZCAiKTsKICAgICAgICB9LmJpbmQodGhpcykpOwogICAgfSwKCiAgICAvL0dldHMgdGhlIEN1cnJlbnQgVE9UQUwgUG9pbnRzCiAgICBnZXRQb2ludHMoKXsKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9hcGkvcG9pbnRzJykKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgIHRoaXMucG9pbnRzPWRhdGFbMF0ucG9pbnRzCiAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvaW50cyk7CiAgICAgICAgICAgICBWdWUuJGNvb2tpZXMuc2V0KCdwb2ludHMnLGRhdGFbMF0ucG9pbnRzKTsKICAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKQogICAgfQogICAKCn0KCgp9Cg=="},{"version":3,"sources":["GoalCheckList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA","file":"GoalCheckList.vue","sourceRoot":"src/components/GoalCycle","sourcesContent":["<template>\n<div class=\"container-fluid\">\n <!--Load Goals To Forum-->\n <form @submit=\"loadGoal()\">\n     <span>View Goal Cyle: </span> \n      <select  v-model=\"goalRef\">\n          <option value=\"\">Goal Update</option>  \n          <option v-for=\"n in goalList\">{{n.title}}</option>  \n      </select>\n         <br>\n        <input type=\"submit\" value=\"Load Goal\" >\n       \n  </form>  \n\n  <br>\n\n <!--Start of Updata forum -->\n <form @submit=\"update()\">\n\n\n    <div v-for=\"n in stepList\" class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\">\n            <div  class=\"d-flex w-100 justify-content-between\">\n             <input type=\"checkbox\"  :value=\"n._id\" v-model=\"n.check\"> \n              &nbsp;\n              <medium>{{n.task}}</medium>\n\n                 <small>Days:{{n.dueDate}}</small>\n             </div>\n\n        </div>  \n    </div>\n    <br>\n    <br>\n    \n     <span>Add Goal Note</span>\n     <p>{{ note }}</p>\n     <textarea v-model=\"note\" cols=\"50\" rows=\"3\" placeholder=\"add multiple lines\"></textarea>\n\n     <br>\n     <br>\n\n\n     <input type=\"submit\" value=\"Submit\" >\n\n  </form>  \n\n   <!--End of Update Forum -->\n\n\n    <br>\n    <br>\n    {{this.updateStatus}}\n\n</div>\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueCookies from 'vue-cookies'\nimport Vue from 'vue'\n\nVue.use(VueCookies)\n\nexport default {\n  name: 'GoalCheckList',\ndata(){ \n  return { \n     stepList:[], \n     goalRef:null,\n     goalList:[],\n     goalId:'',\n     updateStatus:'',\n     points:null,\n     note:'',\n  }\n},\n async created () {\n     var dateNow = new Date();\n     var year= dateNow.getFullYear();\n     console.log(dateNow.getTime());\n\n       axios.get('http://localhost:8888/api/goals')\n          .then(res => {\n             const data = res.data\n             var i;\n\n             //Get Date and Full Year \n             var dateNow = new Date()\n             var year= dateNow.getFullYear()\n\n             //Get Goals from the Current Year                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].year===year)\n                     this.goalList.push(data[i])\n             }       \n             \n         })\n        .catch(error => console.log(error))\n    \n},\n methods:{\n   //This Function Asyncronsously loads the goal\n   async loadGoal(){    \n            var i;\n             \n            for(i=0;i<this.goalList.length;i++){\n                  //Find Goal select ID \n                  if(this.goalList[i].title===this.goalRef)\n                     this.goalId=this.goalList[i]._id\n                     i=this.goalList.length+1\n             }\n                \n         //Load the steps related to the goal and refferences goalID\n         axios.get('http://localhost:8888/api/goals/steps')\n          .then(res => {\n             const data = res.data\n             var i;\n                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].goalID===this.goalId){\n                     this.stepList.push(data[i])\n                     i=data.length+1\n                  }\n             }       \n         })\n        .catch(error => console.log(error))\n    }, \n       //Updates if Goal is Checked \n       update(){    \n             var i;\n\n             var dateNow = new Date();\n             //start of loop\n             for(i=0;i<this.stepList.length;i++){\n                  //Update Steps if their checked off or Not\n                  axios.post('http://localhost:8888/api/goals/steps/update', {\n                       id:this.stepList[i]._id,\n                       check:this.stepList[i].check          \n                    })\n                  .then(function( response ){\n                    console.log(\"Goal Successfully Updated \");\n                 }.bind(this));\n                //If Check add 5 points\n                 if(this.stepList[i].check===true){\n                      this.add5Points();\n                      this.getPoints();\n                 }\n            }//end of for loop\n\n\n            //Add A note to the Notes Database\n             if(this.note.length>0){\n                axios.post('http://localhost:8888/api/goals/notes', {\n                       goalId:this.goalId,\n                       note:this.note,\n                       date:dateNow\n                    })\n                  .then(function( response ){\n                    console.log(\"Note Successfully Updated \");\n                 }.bind(this));\n               \n\n             }            \n\n            //Update Status is Uploaded after execution.\n            this.updateStatus=\"Update done\";\n           location.reload();\n\n    },//end of update() function\n\n    //Function Adds 5 points if Goals is checked\n    add5Points(){\n          var point= 5;\n         \n         axios.post('http://localhost:8888/api/points/5', {\n              //Fixed Object ID\n               //Change if new Object is created\n              objectId:\"5ffba8632ca76f73e4bd3750\",\n              points:point\n         })\n          .then(function( response ){\n                    console.log(\"point added \");\n        }.bind(this));\n    },\n\n    //Gets the Current TOTAL Points\n    getPoints(){\n        axios.get('http://localhost:8888/api/points')\n          .then(res => {\n             const data = res.data\n             this.points=data[0].points\n             console.log(this.points);\n             Vue.$cookies.set('points',data[0].points);\n         })\n        .catch(error => console.log(error))\n    }\n   \n\n}\n\n\n}\n</script>\n\n<style>\n.list-group{\n  color:black;\n\n}\nh6{\n  color:black;\n}\n.mb-1{\n  color:black;\n}\nsmall{\n  color:black;\n}\n.list-group-item{\n  color:black;\n  font-size: 17px;\n}\n\n</style>\n"]}]}