{"remainingRequest":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Projects/lifesparkv1/src/components/GoalCycle/GoalCheckList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kevin/Projects/lifesparkv1/src/components/GoalCycle/GoalCheckList.vue","mtime":1610681356026},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAndnVlLWNvb2tpZXMnCmltcG9ydCBWdWUgZnJvbSAndnVlJwoKVnVlLnVzZShWdWVDb29raWVzKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHb2FsQ2hlY2tMaXN0JywKZGF0YSgpeyAKICByZXR1cm4geyAKICAgICBzdGVwTGlzdDpbXSwgCiAgICAgZ29hbFJlZjpudWxsLAogICAgIGdvYWxMaXN0OltdLAogICAgIGdvYWxJZDonJywKICAgICB1cGRhdGVTdGF0dXM6JycsCiAgICAgcG9pbnRzOm51bGwKICB9Cn0sCiBhc3luYyBjcmVhdGVkICgpIHsKICAgICB2YXIgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7CiAgICAgdmFyIHllYXI9IGRhdGVOb3cuZ2V0RnVsbFllYXIoKTsKICAgICBjb25zb2xlLmxvZyhkYXRlTm93LmdldFRpbWUoKSk7CgogICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzJykKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgIHZhciBpOwoKICAgICAgICAgICAgIHZhciBkYXRlTm93ID0gbmV3IERhdGUoKQogICAgICAgICAgICAgdmFyIHllYXI9IGRhdGVOb3cuZ2V0RnVsbFllYXIoKQogICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICBmb3IoaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgaWYoZGF0YVtpXS55ZWFyPT09eWVhcikKICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb2FsTGlzdC5wdXNoKGRhdGFbaV0pCiAgICAgICAgICAgICB9ICAgICAgIAogICAgICAgICAgICAgCiAgICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSkKICAgIAp9LAogbWV0aG9kczp7CiAgIGFzeW5jIGxvYWRHb2FsKCl7ICAgIAogICAgICAgICAgICB2YXIgaTsKICAgICAgICAKICAgICAgICAgICAgZm9yKGk9MDtpPHRoaXMuZ29hbExpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZ29hbExpc3RbaV0udGl0bGU9PT10aGlzLmdvYWxSZWYpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nb2FsSWQ9dGhpcy5nb2FsTGlzdFtpXS5faWQKICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAoKICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzL3N0ZXBzJykKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICBmb3IoaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgaWYoZGF0YVtpXS5nb2FsSUQ9PT10aGlzLmdvYWxJZCl7CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlcExpc3QucHVzaChkYXRhW2ldKQogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGVwTGlzdFtpXS5jaGVjayk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0gICAgICAgCiAgICAgICAgICAgICAKICAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKQoKICAgIH0sCiAgICAgICB1cGRhdGUoKXsgICAgCiAgICAgICAgICAgICB2YXIgaTsKICAgICAgICAgICAgIAogICAgICAgICAgICAgZm9yKGk9MDtpPHRoaXMuc3RlcExpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9hcGkvZ29hbHMvc3RlcHMvdXBkYXRlJywgewogICAgICAgICAgICAgICAgICAgICAgIGlkOnRoaXMuc3RlcExpc3RbaV0uX2lkLAogICAgICAgICAgICAgICAgICAgICAgIGNoZWNrOnRoaXMuc3RlcExpc3RbaV0uY2hlY2sgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oIHJlc3BvbnNlICl7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRhdGEgU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQgIik7CiAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RlcExpc3RbaV0uY2hlY2s9PT10cnVlKXsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkNVBvaW50cygpOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb2ludHMoKTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0vL2VuZCBvZiBmb3IgbG9vcAoKICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0dXM9IlVwZGF0ZSBkb25lIjsKICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKCiAgICB9LC8vZW5kIG9mIHVwZGF0ZSgpIGZ1bmN0aW9uLAogICAgYWRkNVBvaW50cygpewogICAgICAgICAgdmFyIHBvaW50PSA1OwogICAgICAgICAKICAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9wb2ludHMvNScsIHsKICAgICAgICAgICAgICAvL0ZpeGVkIE9iamVjdCBJRAogICAgICAgICAgICAgICAvL0NoYW5nZSBpZiBuZXcgT2JqZWN0IGlzIGNyZWF0ZWQKICAgICAgICAgICAgICBvYmplY3RJZDoiNWZmYmE4NjMyY2E3NmY3M2U0YmQzNzUwIiwKICAgICAgICAgICAgICBwb2ludHM6cG9pbnQKICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCByZXNwb25zZSApewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwb2ludCBhZGRlZCAiKTsKICAgICAgICB9LmJpbmQodGhpcykpOwogICAgfSwKICAgIGdldFBvaW50cygpewogICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9wb2ludHMnKQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgdGhpcy5wb2ludHM9ZGF0YVswXS5wb2ludHMKICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG9pbnRzKTsKICAgICAgICAgICAgIFZ1ZS4kY29va2llcy5zZXQoJ3BvaW50cycsZGF0YVswXS5wb2ludHMpOwogICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpCiAgICB9CiAgIAoKfQoKCn0K"},{"version":3,"sources":["GoalCheckList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA","file":"GoalCheckList.vue","sourceRoot":"src/components/GoalCycle","sourcesContent":["<template>\n<div class=\"container-fluid\">\n \n <form @submit=\"loadGoal()\">\n     <span>View Goal Cyle: </span> \n      <select  v-model=\"goalRef\">\n          <option value=\"\">Goal Update</option>  \n          <option v-for=\"n in goalList\">{{n.title}}</option>  \n      </select>\n         <br>\n        <input type=\"submit\" value=\"Load Goal\" >\n       \n  </form>  \n\n  <br>\n <form @submit=\"update()\">\n\n\n    <div v-for=\"n in stepList\" class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\">\n            <div  class=\"d-flex w-100 justify-content-between\">\n             <input type=\"checkbox\"  :value=\"n._id\" v-model=\"n.check\"> \n              &nbsp;\n              <medium>{{n.task}}</medium>\n\n                 <small>Days:2021-10-09</small>\n             </div>\n\n        </div>  \n    </div>\n    \n    \n     <input type=\"submit\" value=\"Submit\" >\n\n  </form>  \n\n    <br>\n    <br>\n    {{this.updateStatus}}\n\n\n\n</div>\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueCookies from 'vue-cookies'\nimport Vue from 'vue'\n\nVue.use(VueCookies)\n\nexport default {\n  name: 'GoalCheckList',\ndata(){ \n  return { \n     stepList:[], \n     goalRef:null,\n     goalList:[],\n     goalId:'',\n     updateStatus:'',\n     points:null\n  }\n},\n async created () {\n     var dateNow = new Date();\n     var year= dateNow.getFullYear();\n     console.log(dateNow.getTime());\n\n       axios.get('http://localhost:8888/api/goals')\n          .then(res => {\n             const data = res.data\n             var i;\n\n             var dateNow = new Date()\n             var year= dateNow.getFullYear()\n             console.log(data);\n                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].year===year)\n                     this.goalList.push(data[i])\n             }       \n             \n         })\n        .catch(error => console.log(error))\n    \n},\n methods:{\n   async loadGoal(){    \n            var i;\n        \n            for(i=0;i<this.goalList.length;i++){\n                  if(this.goalList[i].title===this.goalRef)\n                    this.goalId=this.goalList[i]._id\n             }\n                \n\n         axios.get('http://localhost:8888/api/goals/steps')\n          .then(res => {\n             const data = res.data\n             var i;\n             console.log(data);\n                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].goalID===this.goalId){\n                     this.stepList.push(data[i])\n                      console.log(this.stepList[i].check);\n                  }\n             }       \n             \n         })\n        .catch(error => console.log(error))\n\n    },\n       update(){    \n             var i;\n             \n             for(i=0;i<this.stepList.length;i++){\n              \n                  axios.post('http://localhost:8888/api/goals/steps/update', {\n                       id:this.stepList[i]._id,\n                       check:this.stepList[i].check          \n                    })\n                  .then(function( response ){\n                    console.log(\"Data Successfully Updated \");\n                 }.bind(this));\n                \n                 if(this.stepList[i].check===true){\n                      this.add5Points();\n                      this.getPoints();\n                 }\n            }//end of for loop\n\n            this.updateStatus=\"Update done\";\n           location.reload();\n\n    },//end of update() function,\n    add5Points(){\n          var point= 5;\n         \n         axios.post('http://localhost:8888/api/points/5', {\n              //Fixed Object ID\n               //Change if new Object is created\n              objectId:\"5ffba8632ca76f73e4bd3750\",\n              points:point\n         })\n          .then(function( response ){\n                    console.log(\"point added \");\n        }.bind(this));\n    },\n    getPoints(){\n        axios.get('http://localhost:8888/api/points')\n          .then(res => {\n             const data = res.data\n             this.points=data[0].points\n             console.log(this.points);\n             Vue.$cookies.set('points',data[0].points);\n         })\n        .catch(error => console.log(error))\n    }\n   \n\n}\n\n\n}\n</script>\n\n<style>\n.list-group{\n  color:black;\n\n}\nh6{\n  color:black;\n}\n.mb-1{\n  color:black;\n}\nsmall{\n  color:black;\n}\n.list-group-item{\n  color:black;\n  font-size: 17px;\n}\n\n</style>\n"]}]}