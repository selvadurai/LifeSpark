{"remainingRequest":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Projects/lifesparkv1/src/components/GoalCycle/GoalCheckList.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/kevin/Projects/lifesparkv1/src/components/GoalCycle/GoalCheckList.vue","mtime":1610681356026},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/lifesparkv1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGlzdC1ncm91cHsKICBjb2xvcjpibGFjazsKCn0KaDZ7CiAgY29sb3I6YmxhY2s7Cn0KLm1iLTF7CiAgY29sb3I6YmxhY2s7Cn0Kc21hbGx7CiAgY29sb3I6YmxhY2s7Cn0KLmxpc3QtZ3JvdXAtaXRlbXsKICBjb2xvcjpibGFjazsKICBmb250LXNpemU6IDE3cHg7Cn0KCg=="},{"version":3,"sources":["GoalCheckList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GoalCheckList.vue","sourceRoot":"src/components/GoalCycle","sourcesContent":["<template>\n<div class=\"container-fluid\">\n \n <form @submit=\"loadGoal()\">\n     <span>View Goal Cyle: </span> \n      <select  v-model=\"goalRef\">\n          <option value=\"\">Goal Update</option>  \n          <option v-for=\"n in goalList\">{{n.title}}</option>  \n      </select>\n         <br>\n        <input type=\"submit\" value=\"Load Goal\" >\n       \n  </form>  \n\n  <br>\n <form @submit=\"update()\">\n\n\n    <div v-for=\"n in stepList\" class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\">\n            <div  class=\"d-flex w-100 justify-content-between\">\n             <input type=\"checkbox\"  :value=\"n._id\" v-model=\"n.check\"> \n              &nbsp;\n              <medium>{{n.task}}</medium>\n\n                 <small>Days:2021-10-09</small>\n             </div>\n\n        </div>  \n    </div>\n    \n    \n     <input type=\"submit\" value=\"Submit\" >\n\n  </form>  \n\n    <br>\n    <br>\n    {{this.updateStatus}}\n\n\n\n</div>\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueCookies from 'vue-cookies'\nimport Vue from 'vue'\n\nVue.use(VueCookies)\n\nexport default {\n  name: 'GoalCheckList',\ndata(){ \n  return { \n     stepList:[], \n     goalRef:null,\n     goalList:[],\n     goalId:'',\n     updateStatus:'',\n     points:null\n  }\n},\n async created () {\n     var dateNow = new Date();\n     var year= dateNow.getFullYear();\n     console.log(dateNow.getTime());\n\n       axios.get('http://localhost:8888/api/goals')\n          .then(res => {\n             const data = res.data\n             var i;\n\n             var dateNow = new Date()\n             var year= dateNow.getFullYear()\n             console.log(data);\n                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].year===year)\n                     this.goalList.push(data[i])\n             }       \n             \n         })\n        .catch(error => console.log(error))\n    \n},\n methods:{\n   async loadGoal(){    \n            var i;\n        \n            for(i=0;i<this.goalList.length;i++){\n                  if(this.goalList[i].title===this.goalRef)\n                    this.goalId=this.goalList[i]._id\n             }\n                \n\n         axios.get('http://localhost:8888/api/goals/steps')\n          .then(res => {\n             const data = res.data\n             var i;\n             console.log(data);\n                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].goalID===this.goalId){\n                     this.stepList.push(data[i])\n                      console.log(this.stepList[i].check);\n                  }\n             }       \n             \n         })\n        .catch(error => console.log(error))\n\n    },\n       update(){    \n             var i;\n             \n             for(i=0;i<this.stepList.length;i++){\n              \n                  axios.post('http://localhost:8888/api/goals/steps/update', {\n                       id:this.stepList[i]._id,\n                       check:this.stepList[i].check          \n                    })\n                  .then(function( response ){\n                    console.log(\"Data Successfully Updated \");\n                 }.bind(this));\n                \n                 if(this.stepList[i].check===true){\n                      this.add5Points();\n                      this.getPoints();\n                 }\n            }//end of for loop\n\n            this.updateStatus=\"Update done\";\n           location.reload();\n\n    },//end of update() function,\n    add5Points(){\n          var point= 5;\n         \n         axios.post('http://localhost:8888/api/points/5', {\n              //Fixed Object ID\n               //Change if new Object is created\n              objectId:\"5ffba8632ca76f73e4bd3750\",\n              points:point\n         })\n          .then(function( response ){\n                    console.log(\"point added \");\n        }.bind(this));\n    },\n    getPoints(){\n        axios.get('http://localhost:8888/api/points')\n          .then(res => {\n             const data = res.data\n             this.points=data[0].points\n             console.log(this.points);\n             Vue.$cookies.set('points',data[0].points);\n         })\n        .catch(error => console.log(error))\n    }\n   \n\n}\n\n\n}\n</script>\n\n<style>\n.list-group{\n  color:black;\n\n}\nh6{\n  color:black;\n}\n.mb-1{\n  color:black;\n}\nsmall{\n  color:black;\n}\n.list-group-item{\n  color:black;\n  font-size: 17px;\n}\n\n</style>\n"]}]}