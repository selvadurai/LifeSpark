{"remainingRequest":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Projects/LifeSpark/src/components/Habits/DailyHabits.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kevin/Projects/LifeSpark/src/components/Habits/DailyHabits.vue","mtime":1611284556173},{"path":"/home/kevin/Projects/LifeSpark/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAndnVlLWNvb2tpZXMnCmltcG9ydCBWdWUgZnJvbSAndnVlJwoKVnVlLnVzZShWdWVDb29raWVzKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYWlseUhhYml0cycsCmRhdGEoKXsgCiAgcmV0dXJuIHsgCiAgICAgZGFpbHlIYWJpdExpc3Q6W10sCiAgICAgZGF5c0xpc3Q6W10sCiAgICAgaGFiaXREYXlzOm51bGwsCiAgICAgaGFiaXRQb2ludHM6MAogIH0KfSwKCiBhc3luYyBjcmVhdGVkICgpIHsKICAgICAvL0dldCBZZWFyIAogICAgIHZhciBkYXRlTm93ID0gbmV3IERhdGUoKTsKICAgICB2YXIgeWVhcj0gZGF0ZU5vdy5nZXRGdWxsWWVhcigpOwogICAgIAogICAgIC8vR2V0IEhhYml0cyBGcm9tIEFQSQogICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9oYWJpdHMnKQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgIC8vUmVhZCBBUEkgRGF0YQogICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAKICAgICAgICAgICAgIHZhciBpOyAgIAogICAgICAgICAgCiAgICAgICAgICAgIC8vTG9hZCBEYWlseSBHb2FscwogICAgICAgICAgICBmb3IoaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgdmFyIHRhc2tkYXRlID0gbmV3IERhdGUoZGF0YVtpXS5IYWJpdEVuZERhdGUpOyAgICAgIAogICAgICAgICAgICAgICAgICAvL2lmIHRhc2sgaXMgYmVmb3JlIGVuZGRhdGUgYW5kIGl0J3MgZGFpbHkgbG9hZCBpdAogICAgICAgICAgICAgICAgICBpZih0YXNrZGF0ZSA+PSBkYXRlTm93ICYmIGRhdGFbaV0udGltZT09PSJEYWlseSIpewogICAgICAgICAgICAgICAgICAgICB0aGlzLmRhaWx5SGFiaXRMaXN0LnB1c2goZGF0YVtpXSk7CiAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSAgICAKICAgICAgICAgfSkKICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKQoKfSwKIG1ldGhvZHM6ewogICAvL0NvbnZlcnRzIGRhdGUgdG8gZGF5cwogICAgZGF0ZVRvRGF5cyhkYXRlKXsKICAgICAgICB2YXIgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgdmFyIHRhc2tkYXRlID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgY29uc3Qgb25lRGF5ID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gaG91cnMqbWludXRlcypzZWNvbmRzKm1pbGxpc2Vjb25kcwogICAgICAgIHJldHVybiAgTWF0aC5yb3VuZChNYXRoLmFicygodGFza2RhdGUgLSBkYXRlTm93KSAvIG9uZURheSkpOwogICAgfSwKICAgIC8vQWRkcyBQb2ludCB0byBwb2ludHMgZGF0YWJhc2UgYW5kIGFkZCBwb2ludCB0byBoYWJpdCBudW1jaGVjawogICAgIGFkZFBvaW50KGlkLHBvaW50KXsKICAgIAogICAgICB0aGlzLmhhYml0UG9pbnRzPXBvaW50ICsgMTsgICAKICAgICAgdmFyIHBvaW50PXBhcnNlSW50KFZ1ZS4kY29va2llcy5nZXQoJ3BvaW50cycpKSArIDE7CiAgICAgCiAgICAgIC8vKioqKioqKioqQWRkIFBvaW50KioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9oYWJpdHMvYWRkUG9pbnQnLCB7CiAgICAgICAgICAgICAKICAgICAgICAgICAgIG9iamVjdElkOmlkLAogICAgICAgICAgICAgaGFiaXRQb2ludHM6dGhpcy5oYWJpdFBvaW50cwogICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiggcmVzcG9uc2UgKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiSGFiaXQgU3VjY2Vzc2Z1bGx5IFRyYW5zZmVyZWQhICIpOwogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIC8vKioqKioqKioqKioqSGFiaXRQb2ludHMqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8gIAoKICAgICAgLy8qKioqKioqKioqKkFkZCBQb2ludHMgdG8gUG9pbnQgZGF0YWJhc2UqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9wb2ludHMnLCB7CiAgICAgICAgICAgICAvL0ZpeGVkIE9iamVjdCBJRAogICAgICAgICAgICAgLy9DaGFuZ2UgaWYgbmV3IE9iamVjdCBpcyBjcmVhdGVkCiAgICAgICAgICAgICBvYmplY3RJZDoiNWZmYmE4NjMyY2E3NmY3M2U0YmQzNzUwIiwKICAgICAgICAgICAgIHBvaW50czpwb2ludAogICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiggcmVzcG9uc2UgKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUG9pbnQgU3VjY2Vzc2Z1bGx5IFRyYW5zZmVyZWQhICIpOwogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovCiAgICAgCiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgIAogICAgfQp9CgoKfQo="},{"version":3,"sources":["DailyHabits.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA","file":"DailyHabits.vue","sourceRoot":"src/components/Habits","sourcesContent":["<template>\n<div class=\"container-fluid\">\n    <div v-for=\"n in dailyHabitList\" class=\"list-group\">\n          <button :name=\"n._id\"  @click=\"addPoint(n._id,n.habitPoints)\"  type=\"button\" class=\"list-group-item list-group-item-action\">\n             <div  class=\"d-flex w-100 justify-content-between\">\n               <h6 class=\"mb-1\"><img  width=\"25\" height=\"25\" src=\"@/assets/checkMark.png\"/> <b>{{n.habit}}</b> </h6>\n               <medium>Check Num: {{n.habitPoints}}</medium>\n               <small>Days: {{dateToDays(n.HabitEndDate)}}</small>\n             </div>\n          </button>     \n    </div>\n</div>\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueCookies from 'vue-cookies'\nimport Vue from 'vue'\n\nVue.use(VueCookies)\n\nexport default {\n  name: 'DailyHabits',\ndata(){ \n  return { \n     dailyHabitList:[],\n     daysList:[],\n     habitDays:null,\n     habitPoints:0\n  }\n},\n\n async created () {\n     //Get Year \n     var dateNow = new Date();\n     var year= dateNow.getFullYear();\n     \n     //Get Habits From API\n     axios.get('http://localhost:8888/api/habits')\n          .then(res => {\n             //Read API Data\n             const data = res.data\n             \n             var i;   \n          \n            //Load Daily Goals\n            for(i=0;i<data.length;i++){\n                  var taskdate = new Date(data[i].HabitEndDate);      \n                  //if task is before enddate and it's daily load it\n                  if(taskdate >= dateNow && data[i].time===\"Daily\"){\n                     this.dailyHabitList.push(data[i]);\n                  }                  \n            }    \n         })\n     .catch(error => console.log(error))\n\n},\n methods:{\n   //Converts date to days\n    dateToDays(date){\n        var dateNow = new Date();\n        var taskdate = new Date(date);\n        const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        return  Math.round(Math.abs((taskdate - dateNow) / oneDay));\n    },\n    //Adds Point to points database and add point to habit numcheck\n     addPoint(id,point){\n    \n      this.habitPoints=point + 1;   \n      var point=parseInt(Vue.$cookies.get('points')) + 1;\n     \n      //*********Add Point***************************** */\n      axios.post('http://localhost:8888/api/habits/addPoint', {\n             \n             objectId:id,\n             habitPoints:this.habitPoints\n        })\n          .then(function( response ){\n                    console.log(\"Habit Successfully Transfered! \");\n        }.bind(this));\n      //************HabitPoints*************************************** */  \n\n      //***********Add Points to Point database*************************************************/\n       axios.post('http://localhost:8888/api/points', {\n             //Fixed Object ID\n             //Change if new Object is created\n             objectId:\"5ffba8632ca76f73e4bd3750\",\n             points:point\n        })\n          .then(function( response ){\n                    console.log(\"Point Successfully Transfered! \");\n        }.bind(this));\n       //******************************************************************************************** */\n     \n      location.reload();\n     \n    }\n}\n\n\n}\n</script>\n\n<style>\n.list-group{\n  color:black;\n\n}\nh6{\n  color:black;\n}\n.mb-1{\n  color:black;\n}\nsmall{\n  color:black;\n}\n.list-group-item{\n  color:black;\n  font-size: 17px;\n}\n</style>\n"]}]}