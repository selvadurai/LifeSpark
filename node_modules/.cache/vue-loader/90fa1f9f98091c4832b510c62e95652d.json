{"remainingRequest":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Projects/LifeSpark/src/components/GoalCycle/GoalCheckList.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/kevin/Projects/LifeSpark/src/components/GoalCycle/GoalCheckList.vue","mtime":1611287321546},{"path":"/home/kevin/Projects/LifeSpark/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/kevin/Projects/LifeSpark/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/kevin/Projects/LifeSpark/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGlzdC1ncm91cHsKICBjb2xvcjpibGFjazsKCn0KaDZ7CiAgY29sb3I6YmxhY2s7Cn0KLm1iLTF7CiAgY29sb3I6YmxhY2s7Cn0Kc21hbGx7CiAgY29sb3I6YmxhY2s7Cn0KLmxpc3QtZ3JvdXAtaXRlbXsKICBjb2xvcjpibGFjazsKICBmb250LXNpemU6IDE3cHg7Cn0KCg=="},{"version":3,"sources":["GoalCheckList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8MA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GoalCheckList.vue","sourceRoot":"src/components/GoalCycle","sourcesContent":["<template>\n<div class=\"container-fluid\">\n <!--Load Goals To Forum-->\n <form @submit=\"loadGoal()\">\n     <span>View Goal Cyle: </span> \n      <select  v-model=\"goalRef\">\n          <option value=\"\">Goal Update</option>  \n          <option v-for=\"n in goalList\">{{n.title}}</option>  \n      </select>\n         <br>\n        <input type=\"submit\" value=\"Load Goal\" >\n       \n  </form>  \n\n  <br>\n\n <!--Start of Updata forum -->\n <form @submit=\"update()\">\n\n\n    <div v-for=\"n in stepList\" class=\"list-group\">\n        <div class=\"list-group-item list-group-item-action\">\n            <div  class=\"d-flex w-100 justify-content-between\">\n             <input type=\"checkbox\"  :value=\"n._id\" v-model=\"n.check\"> \n              &nbsp;\n              <medium>{{n.task}}</medium>\n\n                 <small>Days:{{n.dueDate}}</small>\n             </div>\n\n        </div>  \n    </div>\n    <br>\n    <br>\n    \n     <span>Add Goal Note</span>\n     <p>{{ note }}</p>\n     <textarea v-model=\"note\" cols=\"50\" rows=\"3\" placeholder=\"add multiple lines\"></textarea>\n\n     <br>\n     <br>\n\n\n     <input type=\"submit\" value=\"Submit\" >\n\n  </form>  \n\n   <!--End of Update Forum -->\n\n\n    <br>\n    <br>\n    {{this.updateStatus}}\n\n</div>\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueCookies from 'vue-cookies'\nimport Vue from 'vue'\n\nVue.use(VueCookies)\n\nexport default {\n  name: 'GoalCheckList',\ndata(){ \n  return { \n     stepList:[], \n     goalRef:null,\n     goalList:[],\n     goalId:'',\n     updateStatus:'',\n     points:null,\n     note:'',\n  }\n},\n async created () {\n     var dateNow = new Date();\n     var year= dateNow.getFullYear();\n     console.log(dateNow.getTime());\n\n       axios.get('http://localhost:8888/api/goals')\n          .then(res => {\n             const data = res.data\n             var i;\n\n             //Get Date and Full Year \n             var dateNow = new Date()\n             var year= dateNow.getFullYear()\n\n             //Get Goals from the Current Year                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].year===year)\n                     this.goalList.push(data[i])\n             }       \n             \n         })\n        .catch(error => console.log(error))\n    \n},\n methods:{\n   //This Function Asyncronsously loads the goal\n   async loadGoal(){    \n            var i;\n             \n            for(i=0;i<this.goalList.length;i++){\n                  //Find Goal select ID \n                  if(this.goalList[i].title===this.goalRef)\n                     this.goalId=this.goalList[i]._id\n             \n             }\n                \n         //Load the steps related to the goal and refferences goalID\n         axios.get('http://localhost:8888/api/goals/steps')\n          .then(res => {\n             const data = res.data\n             var i;\n                          \n             for(i=0;i<data.length;i++){\n                  if(data[i].goalID===this.goalId){\n                     this.stepList.push(data[i])\n                  }\n             }       \n         })\n        .catch(error => console.log(error))\n    }, \n       //Updates if Goal is Checked \n       update(){    \n             var i;\n\n             var dateNow = new Date();\n             //start of loop\n             for(i=0;i<this.stepList.length;i++){\n                  //Update Steps if their checked off or Not\n                  axios.post('http://localhost:8888/api/goals/steps/update', {\n                       id:this.stepList[i]._id,\n                       check:this.stepList[i].check          \n                    })\n                  .then(function( response ){\n                    console.log(\"Goal Successfully Updated \");\n                 }.bind(this));\n                //If Check add 5 points\n                 if(this.stepList[i].check===true){\n                      this.add5Points();\n                      this.getPoints();\n                 }\n            }//end of for loop\n\n\n            //Add A note to the Notes Database\n             if(this.note.length>0){\n                axios.post('http://localhost:8888/api/goals/notes', {\n                       goalId:this.goalId,\n                       note:this.note,\n                       date:dateNow\n                    })\n                  .then(function( response ){\n                    console.log(\"Note Successfully Updated \");\n                 }.bind(this));\n               \n\n             }            \n\n            //Update Status is Uploaded after execution.\n            this.updateStatus=\"Update done\";\n           location.reload();\n\n    },//end of update() function\n\n    //Function Adds 5 points if Goals is checked\n    add5Points(){\n          var point= 5;\n         \n         axios.post('http://localhost:8888/api/points/5', {\n              //Fixed Object ID\n               //Change if new Object is created\n              objectId:\"5ffba8632ca76f73e4bd3750\",\n              points:point\n         })\n          .then(function( response ){\n                    console.log(\"point added \");\n        }.bind(this));\n    },\n\n    //Gets the Current TOTAL Points\n    getPoints(){\n        axios.get('http://localhost:8888/api/points')\n          .then(res => {\n             const data = res.data\n             this.points=data[0].points\n             console.log(this.points);\n             Vue.$cookies.set('points',data[0].points);\n         })\n        .catch(error => console.log(error))\n    }\n   \n\n}\n\n\n}\n</script>\n\n<style>\n.list-group{\n  color:black;\n\n}\nh6{\n  color:black;\n}\n.mb-1{\n  color:black;\n}\nsmall{\n  color:black;\n}\n.list-group-item{\n  color:black;\n  font-size: 17px;\n}\n\n</style>\n"]}]}