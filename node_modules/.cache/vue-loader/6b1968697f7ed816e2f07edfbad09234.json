{"remainingRequest":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Projects/LifeSpark/src/components/Goals/GoalStepForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kevin/Projects/LifeSpark/src/components/Goals/GoalStepForm.vue","mtime":1611287628855},{"path":"/home/kevin/Projects/LifeSpark/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kevin/Projects/LifeSpark/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdXR0b25zIGZyb20gJ0AvY29tcG9uZW50cy9Hb2Fscy9CdXR0b25zLnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR29hbFN0ZXAnLAogIGRhdGEoKSB7CiAgICAgcmV0dXJuewogICAgICAgICBnb2FsUmVmOicnLAogICAgICAgICBnb2FsTGlzdDpbXSwKICAgICAgICAgdGFzazonJywKICAgICAgICAgZ29hbElEOicnLAogICAgICAgICBkdWVEYXRlOicnLAogICAgICAgICBjaGVjazpmYWxzZQoKICAgICB9CiAgfSwKIGFzeW5jIGNyZWF0ZWQgKCkgewogICAgICAvL0dldHMgR29hbHMKICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2FwaS9nb2FscycpCiAgICAgICAgICAudGhlbihyZXMgPT4gewoKICAgICAgICAgICAgIC8vR2V0IEdvYWwgRGF0YQogICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgICB2YXIgaTsKCiAgICAgICAgICAgICAvL0dldCBkYXRhCiAgICAgICAgICAgICB2YXIgZGF0ZU5vdyA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgIHZhciB5ZWFyPSBkYXRlTm93LmdldEZ1bGxZZWFyKCkKICAgICAgICAgICAgCiAgICAgICAgICAgICAvL0dldCBnb2FscyByZWZlcmVuY2luZyB0aGUgY3VycmVudCB5ZWFyICAgICAgICAgICAgICAKICAgICAgICAgICAgIGZvcihpPTA7aTxkYXRhLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICBpZihkYXRhW2ldLnllYXI9PT15ZWFyKQogICAgICAgICAgICAgICAgICAgICB0aGlzLmdvYWxMaXN0LnB1c2goZGF0YVtpXSk7CiAgICAgICAgICAgICB9ICAgICAgIAogICAgICAgICAgICAgCiAgICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSkgICAgICAKIH0sCiBtZXRob2RzOnsKICAgICAvL0FkZCBzdGVwIHRvIGRhdGFiYXNlCiAgICBzdWJtaXQoKXsKICAgICAgICAgdmFyIGk7CiAgICAgICAgICAgIGZvcihpPTA7aTx0aGlzLmdvYWxMaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAvL0ZpbmQgZ29hbCBpZAogICAgICAgICAgICAgICBpZih0aGlzLmdvYWxMaXN0W2ldLnRpdGxlPT09dGhpcy5nb2FsUmVmKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdvYWxJRD10aGlzLmdvYWxMaXN0W2ldLl9pZDsKICAgICAgICAgICAgICAgICAgICBpPXRoaXMuZ29hbExpc3QubGVuZ3RoKzE7CiAgICAgICAgICAgICAgIH0gICAKICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAKICAgICAgICAgLy8vUE9TVCBTVEVQUyBUTyBHT0FMUwogICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvYXBpL2dvYWxzL3N0ZXBzJywgewogICAgICAgICAgICAgIHRhc2s6dGhpcy50YXNrLnRyaW0oKSwKICAgICAgICAgICAgICBnb2FsSUQ6dGhpcy5nb2FsSUQudHJpbSgpLAogICAgICAgICAgICAgIGR1ZURhdGU6dGhpcy5kdWVEYXRlLAogICAgICAgICAgICAgIGNoZWNrOmZhbHNlIAogICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbiggcmVzcG9uc2UgKXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU3RlcCBBZGRlZCBTdWNjZXNzZnVsbHkgVXBkYXRlZCAiKTsKICAgICAgICB9LmJpbmQodGhpcykpOyAKICAgICAgIAogICAgICAgIC8vUmVkaXJlY3QgdG8gbWFpbiBnb2FsIHBhZ2UKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2dvYWwnKTsKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["GoalStepForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"GoalStepForm.vue","sourceRoot":"src/components/Goals","sourcesContent":["<template>\n   <div class=\"container-fluid\">\n\n     <form @submit=submit()>\n           <span>Which Goal You Want to Create a Step For?: </span> \n          <select  v-model=\"goalRef\">\n                <option value=\"\">Goal Update</option>  \n                <option v-for=\"n in goalList\">{{n.title}}</option>  \n           </select>\n      <br>\n      <br>\n     <span>Enter Goal Step:</span>\n     <br>\n     <textarea v-model=\"task\" placeholder=\"add multiple lines\"></textarea>\n\n     <br>\n     <br>\n\n      <br>\n      <br>\n     <span>Due Date:</span> \n     &nbsp;\n\n     <br>\n     <input type=\"date\"  v-model=\"dueDate\">\n     <br>\n     <br>\n         <input\n          type=\"submit\"\n          value=\"Submit\"\n         >\n    </form> \n\n   </div>\n\n</template>\n<script>\nimport Buttons from '@/components/Goals/Buttons.vue'\nimport axios from 'axios';\n\nexport default {\n  name: 'GoalStep',\n  data() {\n     return{\n         goalRef:'',\n         goalList:[],\n         task:'',\n         goalID:'',\n         dueDate:'',\n         check:false\n\n     }\n  },\n async created () {\n      //Gets Goals\n       axios.get('http://localhost:8888/api/goals')\n          .then(res => {\n\n             //Get Goal Data\n             const data = res.data\n             var i;\n\n             //Get data\n             var dateNow = new Date()\n             var year= dateNow.getFullYear()\n            \n             //Get goals referencing the current year              \n             for(i=0;i<data.length;i++){\n                  if(data[i].year===year)\n                     this.goalList.push(data[i]);\n             }       \n             \n         })\n        .catch(error => console.log(error))      \n },\n methods:{\n     //Add step to database\n    submit(){\n         var i;\n            for(i=0;i<this.goalList.length;i++){\n               //Find goal id\n               if(this.goalList[i].title===this.goalRef){\n                    this.goalID=this.goalList[i]._id;\n                    i=this.goalList.length+1;\n               }   \n             }\n\n                \n         ///POST STEPS TO GOALS\n         axios.post('http://localhost:8888/api/goals/steps', {\n              task:this.task.trim(),\n              goalID:this.goalID.trim(),\n              dueDate:this.dueDate,\n              check:false \n        })\n          .then(function( response ){\n              console.log(\"Step Added Successfully Updated \");\n        }.bind(this)); \n       \n        //Redirect to main goal page\n        this.$router.push('/goal');\n    },\n  }\n}\n</script>"]}]}